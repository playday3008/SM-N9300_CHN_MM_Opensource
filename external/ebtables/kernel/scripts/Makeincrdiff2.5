#!/bin/bash
# used for making the incremental kernel 2.5.x diffs

#export FROM=/ebtables2/kernel/linux/
export FROM=linux-2.6.0-test1
export TO=linux-2.6.0-test1-keep
export FILE=file.diff

diff -urNp --exclude TAGS $FROM/net/bridge/netfilter/Makefile $TO/net/bridge/netfilter/Makefile >> $FILE
diff -urNp --exclude TAGS $FROM/net/bridge/netfilter/ebtable_filter.c $TO/net/bridge/netfilter/ebtable_filter.c >> $FILE
diff -urNp --exclude TAGS $FROM/net/bridge/netfilter/ebtable_nat.c $TO/net/bridge/netfilter/ebtable_nat.c >> $FILE
diff -urNp --exclude TAGS $FROM/net/bridge/netfilter/ebtable_broute.c $TO/net/bridge/netfilter/ebtable_broute.c >> $FILE
diff -urNp --exclude TAGS $FROM/net/bridge/netfilter/ebt_redirect.c $TO/net/bridge/netfilter/ebt_redirect.c >> $FILE
#diff -urNp --exclude TAGS $FROM/net/bridge/netfilter/ebt_802_3.c $TO/net/bridge/netfilter/ebt_802_3.c >> $FILE
diff -urNp --exclude TAGS $FROM/net/bridge/netfilter/ebt_arp.c $TO/net/bridge/netfilter/ebt_arp.c >> $FILE
diff -urNp --exclude TAGS $FROM/net/bridge/netfilter/ebt_ip.c $TO/net/bridge/netfilter/ebt_ip.c >> $FILE
diff -urNp --exclude TAGS $FROM/net/bridge/netfilter/ebt_stp.c $TO/net/bridge/netfilter/ebt_stp.c >> $FILE
diff -urNp --exclude TAGS $FROM/net/bridge/netfilter/ebt_pkttype.c $TO/net/bridge/netfilter/ebt_pkttype.c >> $FILE
diff -urNp --exclude TAGS $FROM/net/bridge/netfilter/ebt_vlan.c $TO/net/bridge/netfilter/ebt_vlan.c >> $FILE
diff -urNp --exclude TAGS $FROM/net/bridge/netfilter/ebt_log.c $TO/net/bridge/netfilter/ebt_log.c >> $FILE
diff -urNp --exclude TAGS $FROM/net/bridge/netfilter/ebt_mark.c $TO/net/bridge/netfilter/ebt_mark.c >> $FILE
diff -urNp --exclude TAGS $FROM/net/bridge/netfilter/ebt_mark_m.c $TO/net/bridge/netfilter/ebt_mark_m.c >> $FILE
diff -urNp --exclude TAGS $FROM/net/bridge/netfilter/ebt_snat.c $TO/net/bridge/netfilter/ebt_snat.c >> $FILE
diff -urNp --exclude TAGS $FROM/net/bridge/netfilter/ebt_dnat.c $TO/net/bridge/netfilter/ebt_dnat.c >> $FILE
diff -urNp --exclude TAGS $FROM/net/bridge/netfilter/ebtables.c $TO/net/bridge/netfilter/ebtables.c >> $FILE
diff -urNp --exclude TAGS $FROM/include/linux/netfilter_bridge/ebtables.h $TO/include/linux/netfilter_bridge/ebtables.h >> $FILE
#diff -urNp --exclude TAGS $FROM/include/linux/netfilter_bridge/ebt_802_3.h $TO/include/linux/netfilter_bridge/ebt_802_3.h >> $FILE
diff -urNp --exclude TAGS $FROM/include/linux/netfilter_bridge/ebt_arp.h $TO/include/linux/netfilter_bridge/ebt_arp.h >> $FILE
diff -urNp --exclude TAGS $FROM/include/linux/netfilter_bridge/ebt_ip.h $TO/include/linux/netfilter_bridge/ebt_ip.h >> $FILE
diff -urNp --exclude TAGS $FROM/include/linux/netfilter_bridge/ebt_stp.h $TO/include/linux/netfilter_bridge/ebt_stp.h >> $FILE
diff -urNp --exclude TAGS $FROM/include/linux/netfilter_bridge/ebt_vlan.h $TO/include/linux/netfilter_bridge/ebt_vlan.h >> $FILE
diff -urNp --exclude TAGS $FROM/include/linux/netfilter_bridge/ebt_log.h $TO/include/linux/netfilter_bridge/ebt_log.h >> $FILE
diff -urNp --exclude TAGS $FROM/include/linux/netfilter_bridge/ebt_pkttype.h $TO/include/linux/netfilter_bridge/ebt_pkttype.h >> $FILE
diff -urNp --exclude TAGS $FROM/include/linux/netfilter_bridge/ebt_mark_t.h $TO/include/linux/netfilter_bridge/ebt_mark_t.h >> $FILE
diff -urNp --exclude TAGS $FROM/include/linux/netfilter_bridge/ebt_mark_m.h $TO/include/linux/netfilter_bridge/ebt_mark_m.h >> $FILE
diff -urNp --exclude TAGS $FROM/include/linux/netfilter_bridge/ebt_nat.h $TO/include/linux/netfilter_bridge/ebt_nat.h >> $FILE
diff -urNp --exclude TAGS $FROM/include/linux/netfilter_bridge/ebt_redirect.h $TO/include/linux/netfilter_bridge/ebt_redirect.h >> $FILE
